<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="~{master::header}">
    <meta charset="UTF-8">
     <title th:text="${title}"></title>
</head>
<body class=" bg-dark text-white">

<div class="container-fluid mt-4 vh-100">
    <div class="row">
        <div class="col-md-2  border-right border-primary vh-100">
            <div  class="list-group bg-secondary mt-2">
                <p class="h4 mb-2 mt-1 text-white text-center">Admin name</p>
                <a class="bg-secondary text-white list-group-item list-group-item-action" href="#list-item-1">Our Categories List</a>
                <a class="bg-secondary text-white list-group-item list-group-item-action" href="#list-item-2">Show Our Users</a>
                <a class="bg-secondary text-white list-group-item list-group-item-action" href="/book/create">Add Book</a>
            </div>
        </div>
        <div class="col-md-9 center  m-auto ">
            <div data-spy="scroll" data-target="#list-example" data-offset="0" class="container scrollspy-example">
                <p class="h5 mb-1 mr-4 text-center" id="list-item-1"><strong><u>Our Books List</u></strong></p>
                <div class="d-flex justify-content-center align-items-center">
                    <table class="table table-striped table-dark table-hover border border-primary text-white p-3">
                        <thead class="thead-primary">
                        <tr>
                            <th scope="col">Id</th>
                            <th scope="col">Book Name</th>
                            <th scope="col">Author Name</th>
                            <th scope="col">Genres</th>
                            <th scope="col">Cover Image</th>
                            <th scope="col">Created Date</th>
                            <th scope="col">Updated Date</th>
                            <th scope="col" colspan="2">Details</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="books, counter: ${books}" th:object="${books}">
                            <td  th:text="${counter.index +1}">1</td>
                            <td th:text="*{bookName}"></td>
                            <td th:text="*{authorName}"></td>
                            <td th:text="*{genreName}"></td>
                            <td><img th:src="@{uploads/{bookname}/{imagename} (bookname=*{bookName},imagename=*{imageName})}" width="50px" alt="..."></td>
                            <td th:text="*{created_date}"></td>
                            <td th:text="*{updated_date}"></td>
                            <td class="btn btn-sm btn-primary p-2 mt-2">Edit</td>
                            <td class="btn btn-sm btn-danger p-2 mt-2" > <a th:href="@{/book/delete/{book_id} (book_id=*{bookId}) } ">Delete</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="bg-dark">
                    <p class="lead mb-1 text-center" id="list-item-2"><strong><u>Show Our Users</u></strong></p>
                    <div >
                        <table class="table table-striped table-dark table-hover border border-primary text-white">
                            <thead class="thead-primary">
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">User Name</th>
                                <th scope="col">Email</th>
                                <th scope="col">Role ID</th>
                                <th scope="col">Created Date</th>
                                <th scope="col">Updated Date</th>
                                <th scope="col" colspan="2">Details</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="users, counter: ${users}" th:object="${users}" >
                                <td  th:text="${counter.index +1}"></td>
                                <td th:text="*{username}"></td>
                                <td th:text="*{email}"></td>
                                <td th:text="*{role_id ==1 ? 'Admin' :'User'}"></td>
                                <td th:text="*{created_date}"></td>
                                <td th:text="*{updated_date}"></td>
                                <td class="btn btn-sm btn-primary p-2 mt-2">Edit</td>
                                <td class="btn btn-sm btn-danger p-2 mt-2">Delete</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>


                <div class="bg-dark">
                    <p class="lead mb-1 text-center" id="list-item-3"><strong><u>Show Genres</u></strong></p>
                    <div >
                        <form method="post" action="/admin/home">
                        <button class="btn btn-primary" type="submit">Add genre</button>
                        <input type="text" class="form-control" id="name" name="genreName" required>
                        </form>
                        <table class="table table-striped table-dark table-hover border border-primary text-white">
                            <thead class="thead-primary">
                            <tr>
                                <th scope="col">Genre Id</th>
                                <th scope="col">Genre Name</th>
                                <th scope="col" colspan="2">Details</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="genre : ${genres}">
                                <td th:text="${genre.genre_id}"></td>
                                <td th:text="${genre.genre_name}"></td>
                                <td class="btn btn-sm btn-primary p-2 mt-2">Edit</td>
                                <td class="btn btn-sm btn-danger p-2 mt-2">Delete</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div th:replace="~{master::footer}"></div>
</body>
</html>